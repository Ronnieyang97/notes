第二十七章 FTP 文件传送协议
FTP是文件传送；NFS等应用是文件存取。FTP文件传送是将一个完整的文件从一个系统复制到另一个系统中
FTP采用两个TCP连接来传输一个文件
1）控制连接以通常的客户服务器方式建立，服务器以被动方式打开用于FTP的端口，等待客户链接。客户主动打开TCP端口建立连接，控制连接始终等待客户与服务器之间的通信，该链接将命令从客户传给服务器并传回服务器的应答。IP对控制连接的服务类型时最大限度减小延迟
2）每当一个文件在客户与服务器之间传输时，就创立一个数据连接。由于传输目的，IP对数据连接的服务类型时最大限度提高吞吐量

FTP提供四个方面的类型选择：文件类型（ASCII码、EBCDIC、图像、本地文件）、格式控制（只对ASCII和EBCDIC有效：非打印、远程登陆格式控制、Fortran回车控制）、结构（文件结构、记录结构、页结构）和传输方式（流方式、块方式、压缩方式）

数据连接有三大用途：从客户向服务器发送一个文件、从服务器向客户发送一个文件、从服务器向客户发送文件或目录列表
通用传输方式是流方式，并且文件结尾以关闭数据连接为标志，这意味着对每一个文件传输或目录列表来说都要建立一个全新的数据连接。服务器总是执行数据连接的主动打开，也执行其主动关闭，除非客户向服务器发送流形式的文件，需要客户来关闭文件。